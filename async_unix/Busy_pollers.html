<div class="ocaml_top"><div class="ocaml_summary"><div class="info">A set of busy-poll functions.<p>See Scheduler.add_busy_poller for the user-level interface.</p></div></div>
<div class="ocaml_content"><pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre>
<div class="ocaml_include" path="http://frenetic-lang.github.io/api//core/#Std.Invariant:S" items="[]" types="[]"><pre class="ocaml_include_handle"><span class="keyword">include</span> <code class="type"><code class="code"><a href="http://frenetic-lang.github.io/api//core/#Std.Invariant:S">Core.Std.Invariant.S</a></code> with type t := <a href="http://frenetic-lang.github.io/api//async_unix/#Busy_pollers.t" class="ocaml_internal">t</a></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">unit -&gt; <a href="http://frenetic-lang.github.io/api//async_unix/#Busy_pollers.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">create ()</code> creates a new empty set.</div>
<pre class="odoccode"><span class="VALis_empty"><span class="keyword">val</span> is_empty</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_unix/#Busy_pollers.t" class="ocaml_internal">t</a> -&gt; bool</code></pre>
<pre class="odoccode"><span class="VALadd"><span class="keyword">val</span> add</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_unix/#Busy_pollers.t" class="ocaml_internal">t</a> -&gt;
(unit -&gt; [ `Continue_polling | `Stop_polling of 'a ]) -&gt; 'a <a href="http://frenetic-lang.github.io/api//async_unix/#Import.Deferred.t">Import.Deferred.t</a></code></pre><div class="info"><code class="code">add t f</code> adds function <code class="code">f</code> to the set <code class="code">t</code>. <code class="code">f</code> will run every time <code class="code">poll</code> is called.
<code class="code">f</code> runs with the same execution context that was in effect when <code class="code">add</code> was called.
When <code class="code">poll</code> is called and <code class="code">f</code> returns <code class="code">`Stop_polling</code>, the result of <code class="code">add</code> becomes
determined and <code class="code">f</code> is removed from the set. Also, if <code class="code">f</code> raises, it is removed from
the set and the exception is sent to the monitor in effect when <code class="code">add</code> was called,</div>
<pre class="odoccode"><span class="VALpoll"><span class="keyword">val</span> poll</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_unix/#Busy_pollers.t" class="ocaml_internal">t</a> -&gt; unit</code></pre><div class="info"><code class="code">poll t</code> runs every function in the set <code class="code">t</code>.</div>
<pre class="odoccode"><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_unix/#Busy_pollers.t" class="ocaml_internal">t</a> -&gt; <a href="http://frenetic-lang.github.io/api//sexplib/#Sexp.t">Sexplib.Sexp.t</a></code></pre>
</div></div>