<div class="ocaml_top"><div class="ocaml_summary"><div class="info">Dominators<p>All of the functions in this module assume that the graph is not modified
between calling one of these functions and using the returned functions.
Such mutation results in undefined behavior.</p><div class="authors"><b>Author(s): </b><span class="author">Ivan Jager</span></div></div></div>
<div class="ocaml_content"><pre class="odoccode"><span class="EXCEPTIONUnreachable"><span class="keyword">exception</span> Unreachable</span></pre>
<div class="ocaml_modtype" name="G"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G" class="ocaml_internal">G</a> = <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre>
<div class="ocaml_module" name="V" path="http://127.0.0.1:8000/ocamlgraph/#Sig:COMPARABLE"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.V" class="ocaml_internal">V</a> : <code class="type"><code class="code"><a href="http://127.0.0.1:8000/ocamlgraph/#Sig:COMPARABLE">Sig.COMPARABLE</a></code></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="VALpred"><span class="keyword">val</span> pred</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.V.t" class="ocaml_internal">V.t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.V.t" class="ocaml_internal">V.t</a> list</code></pre>
<pre class="odoccode"><span class="VALsucc"><span class="keyword">val</span> succ</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.V.t" class="ocaml_internal">V.t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.V.t" class="ocaml_internal">V.t</a> list</code></pre>
<pre class="odoccode"><span class="VALfold_vertex"><span class="keyword">val</span> fold_vertex</span> : <code class="type">(<a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.V.t" class="ocaml_internal">V.t</a> -&gt; 'a -&gt; 'a) -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.t" class="ocaml_internal">t</a> -&gt; 'a -&gt; 'a</code></pre>
<pre class="odoccode"><span class="VALiter_vertex"><span class="keyword">val</span> iter_vertex</span> : <code class="type">(<a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.V.t" class="ocaml_internal">V.t</a> -&gt; unit) -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.t" class="ocaml_internal">t</a> -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALnb_vertex"><span class="keyword">val</span> nb_vertex</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.t" class="ocaml_internal">t</a> -&gt; int</code></pre>
<pre class="odoccode"><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">?size:int -&gt; unit -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALadd_edge"><span class="keyword">val</span> add_edge</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.V.t" class="ocaml_internal">V.t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G.V.t" class="ocaml_internal">V.t</a> -&gt; unit</code></pre></div></div>
<div class="ocaml_module" name="Make"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make" class="ocaml_internal">Make</a> : <code class="type"><div class="sig_block"><code class="code">functor (</code><code class="code">G</code><code class="code"> : </code><code class="code"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator:G" class="ocaml_internal">G</a></code><code class="code">) -&gt; </code><code class="code">sig</code> .. <code class="code">end</code></div></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<div class="ocaml_module" name="S"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S" class="ocaml_internal">S</a> : <code class="type"><code class="code">Set.S</code> with type elt = G.V.t</code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="TYPEidom"><span class="keyword">type</span> idom</span> = <code class="type">G.V.t -&gt; G.V.t</code></pre><div class="info">function from <code class="code">n</code> to <code class="code">n</code>'s immediate dominator</div>
<pre class="odoccode"><span class="TYPEidoms"><span class="keyword">type</span> idoms</span> = <code class="type">G.V.t -&gt; G.V.t -&gt; bool</code></pre><div class="info"><code class="code">idoms x y</code> is true when <code class="code">x</code> is <code class="code">y</code>'s immediate dominator</div>
<pre class="odoccode"><span class="TYPEdom_tree"><span class="keyword">type</span> dom_tree</span> = <code class="type">G.V.t -&gt; G.V.t list</code></pre><div class="info">function from <code class="code">x</code> to a list of nodes immediately dominated by <code class="code">x</code></div>
<pre class="odoccode"><span class="TYPEdominators"><span class="keyword">type</span> dominators</span> = <code class="type">G.V.t -&gt; G.V.t list</code></pre><div class="info">function from node to a list of nodes that dominate it.</div>
<pre class="odoccode"><span class="TYPEdom"><span class="keyword">type</span> dom</span> = <code class="type">G.V.t -&gt; G.V.t -&gt; bool</code></pre><div class="info"><code class="code">dom x y</code> returns true iff <code class="code">x</code> dominates <code class="code">y</code></div>
<pre class="odoccode"><span class="TYPEsdom"><span class="keyword">type</span> sdom</span> = <code class="type">G.V.t -&gt; G.V.t -&gt; bool</code></pre><div class="info"><code class="code">sdom x y</code> returns true iff <code class="code">x</code> strictly dominates <code class="code">y</code>.</div>
<pre class="odoccode"><span class="TYPEdom_frontier"><span class="keyword">type</span> dom_frontier</span> = <code class="type">G.V.t -&gt; G.V.t list</code></pre><div class="info">function from <code class="code">x</code> to a list of nodes not dominated by <code class="code">x</code>, but with
predecessors which are dominated by <code class="code">x</code></div>
<pre class="odoccode"><span class="TYPEdom_graph"><span class="keyword">type</span> dom_graph</span> = <code class="type">unit -&gt; G.t</code></pre>
<pre class="odoccode"><code><span class="TYPEdom_functions"><span class="keyword">type</span> dom_functions</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdom_functions.idom">idom</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.idom" class="ocaml_internal">idom</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdom_functions.idoms">idoms</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.idoms" class="ocaml_internal">idoms</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdom_functions.dom_tree">dom_tree</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.dom_tree" class="ocaml_internal">dom_tree</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdom_functions.dominators">dominators</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.dominators" class="ocaml_internal">dominators</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdom_functions.dom">dom</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.dom" class="ocaml_internal">dom</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdom_functions.sdom">sdom</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.sdom" class="ocaml_internal">sdom</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdom_functions.dom_frontier">dom_frontier</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.dom_frontier" class="ocaml_internal">dom_frontier</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTdom_functions.dom_graph">dom_graph</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.dom_graph" class="ocaml_internal">dom_graph</a></code>;</code></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><span class="VALcompute_idom"><span class="keyword">val</span> compute_idom</span> : <code class="type">G.t -&gt; G.V.t -&gt; G.V.t -&gt; G.V.t</code></pre><div class="info">Computes the dominator tree, using the Lengauer-Tarjan algorithm.
<code class="code">compute_idom cfg s0</code> returns a function <code class="code">idom : V.t -&gt; V.t</code> s.t.
<code class="code">idom x</code> returns the immediate dominator of <code class="code">x</code></div>
<pre class="odoccode"><span class="VALdominators_to_dom"><span class="keyword">val</span> dominators_to_dom</span> : <code class="type">('a -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.t" class="ocaml_internal">S.t</a>) -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.elt" class="ocaml_internal">S.elt</a> -&gt; 'a -&gt; bool</code></pre><div class="info">Given a function from a node to it's dominators, returns a function
<code class="code">dom : V.t -&gt; V.t -&gt; bool</code> s.t. <code class="code">dom x y</code> returns true when
<code class="code">x</code> dominates <code class="code">y</code></div>
<pre class="odoccode"><span class="VALdominators_to_sdom"><span class="keyword">val</span> dominators_to_sdom</span> : <code class="type">(G.V.t -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.t" class="ocaml_internal">S.t</a>) -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.elt" class="ocaml_internal">S.elt</a> -&gt; G.V.t -&gt; bool</code></pre><div class="info">Given a function from a node to it's dominators, returns a function
<code class="code">sdom : V.t -&gt; V.t -&gt; bool</code> s.t. <code class="code">sdom x y</code> returns true when
<code class="code">x</code> strictly dominates <code class="code">y</code></div>
<pre class="odoccode"><span class="VALdom_to_sdom"><span class="keyword">val</span> dom_to_sdom</span> : <code class="type">(G.V.t -&gt; G.V.t -&gt; bool) -&gt; G.V.t -&gt; G.V.t -&gt; bool</code></pre>
<pre class="odoccode"><span class="VALdominators_to_sdominators"><span class="keyword">val</span> dominators_to_sdominators</span> : <code class="type">(<a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.elt" class="ocaml_internal">S.elt</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.t" class="ocaml_internal">S.t</a>) -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.elt" class="ocaml_internal">S.elt</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.t" class="ocaml_internal">S.t</a></code></pre><div class="info">Given a a function from a node to it's dominators, returns a function
from a node to it's strict dominators.</div>
<pre class="odoccode"><span class="VALdominators_to_idoms"><span class="keyword">val</span> dominators_to_idoms</span> : <code class="type">(<a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.elt" class="ocaml_internal">S.elt</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.t" class="ocaml_internal">S.t</a>) -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.elt" class="ocaml_internal">S.elt</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.elt" class="ocaml_internal">S.elt</a> -&gt; bool</code></pre><div class="info">Given a function from a node to it's dominators, returns a function
<code class="code">idoms : G.V.t -&gt; G.V.t -&gt; bool</code> s.t. <code class="code">idoms x y</code> returns true when
<code class="code">x</code> is the immediate dominator of <code class="code">y</code>.</div>
<pre class="odoccode"><span class="VALdominators_to_dom_tree"><span class="keyword">val</span> dominators_to_dom_tree</span> : <code class="type">G.t -&gt; ?pred:(G.t -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.elt" class="ocaml_internal">S.elt</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.elt" class="ocaml_internal">S.elt</a> list) -&gt; (<a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.elt" class="ocaml_internal">S.elt</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.t" class="ocaml_internal">S.t</a>) -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.elt" class="ocaml_internal">S.elt</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.S.t" class="ocaml_internal">S.t</a></code></pre><div class="info">Computes a dominator tree (function from x to a list of nodes immediately
dominated by x) for the given CFG and dominator function.
Note: The dominator tree is also called <code class="code">IDom</code> by Muchnick.
Note: If you are computing a post-dominator tree, then the
optional argument pred should be G.succ.</div>
<pre class="odoccode"><span class="VALidom_to_dom_tree"><span class="keyword">val</span> idom_to_dom_tree</span> : <code class="type">G.t -&gt; (G.V.t -&gt; G.V.t) -&gt; G.V.t -&gt; G.V.t list</code></pre><div class="info">Computes a dominator tree (function from x to a list of nodes immediately
dominated by x) for the given CFG and idom function.</div>
<pre class="odoccode"><span class="VALidom_to_idoms"><span class="keyword">val</span> idom_to_idoms</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.idom" class="ocaml_internal">idom</a> -&gt; G.V.t -&gt; G.V.t -&gt; bool</code></pre>
<pre class="odoccode"><span class="VALcompute_dom_frontier"><span class="keyword">val</span> compute_dom_frontier</span> : <code class="type">G.t -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.dom_tree" class="ocaml_internal">dom_tree</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.idom" class="ocaml_internal">idom</a> -&gt; G.V.t -&gt; G.V.t list</code></pre><div class="info">Computes the dominance frontier.
As specified in section 19.1 of Modern Compiler Implementation in ML
by Andrew Appel.</div>
<pre class="odoccode"><span class="VALidom_to_dominators"><span class="keyword">val</span> idom_to_dominators</span> : <code class="type">('a -&gt; 'a) -&gt; 'a -&gt; 'a list</code></pre>
<pre class="odoccode"><span class="VALidom_to_dom"><span class="keyword">val</span> idom_to_dom</span> : <code class="type">(G.V.t -&gt; G.V.t) -&gt; G.V.t -&gt; G.V.t -&gt; bool</code></pre>
<pre class="odoccode"><span class="VALcompute_dom_graph"><span class="keyword">val</span> compute_dom_graph</span> : <code class="type">G.t -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.dom_tree" class="ocaml_internal">dom_tree</a> -&gt; G.t</code></pre>
<pre class="odoccode"><span class="VALcompute_all"><span class="keyword">val</span> compute_all</span> : <code class="type">G.t -&gt; G.V.t -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Dominator.Make.dom_functions" class="ocaml_internal">dom_functions</a></code></pre><div class="info">Computes all dominance functions.<p>This function computes some things eagerly and some lazily, so don't
worry about it doing extra work to compute functions you don't need,
but also don't call it if you aren't going to use anything it returns.</p> <b>Returns</b> a record containing all dominance functions for the given graph
and entry node.</div></div></div>
</div></div>