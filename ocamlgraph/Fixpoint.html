<div class="ocaml_top"><div class="ocaml_summary"><div class="info">Fixpoint computation implemented using the work list algorithm.
This module makes writing data-flow analysis easy.<p>One of the simplest fixpoint analysis is that of reachability.
Given a directed graph module <code class="code">G</code>, its analysis can be implemented
as follows:</p><pre class="code"><code>module Reachability = Graph.Fixpoint.Make(G)
(struct
  type vertex = G.E.vertex
  type edge = G.E.t
  type g = G.t
  type data = bool
  let direction = Graph.Fixpoint.Forward
  let equal = (=)
  let join = (||)
  let analyze _ = (fun x -&gt; x)
end)</code></pre><p>The types for <code class="code">vertex</code>, <code class="code">edge</code> and <code class="code">g</code> are those of the graph to be
analyzed. The <code class="code">data</code> type is <code class="code">bool</code>: It will tell if the
vertex is reachable from the start vertex. The <code class="code">equal</code> operation
for <code class="code">bool</code> is simply structural equality; the <code class="code">join</code> operation is
logical or. The <code class="code">analyze</code> function is very simple, too: If the
predecessor vertex is reachable, so is the successor vertex of the
edge.</p><p>To use the analysis, an instance of a graph <code class="code">g</code> is required. For
this analysis a predicate <code class="code">is_root_vertex : G.E.vertex -&gt; bool</code> is
required to initialize the reachability of the root vertex to
<code class="code">true</code> and of all other vertices to <code class="code">false</code>.</p><pre class="code"><code>    let g = ...
    let result = Reachability.analyze is_root_vertex g</code></pre><p>The <code class="code">result</code> is a map of type <code class="code">G.E.vertex -&gt; bool</code> that can be
queried for every vertex to tell if the vertex is reachable from
the root vertex.</p><div class="authors"><b>Author(s): </b><span class="author">Markus W. Weissmann</span></div><div class="see"><b>See also</b> <ul>     <li><i class="doc">Introduction to Lattices and Order </i>B. A. Davey and H. A. Priestley, Cambridge University Press, 2002</li> <li><i class="doc">Fixed Point Theory </i>Andrzej Granas and James Dugundji, Springer, 2003</li> <li><i class="doc">Principles of Program Analysis </i>Flemming Nielson, Hanne Riis Nielson and Chris Hankin, Springer, 2005</li> <li><i class="doc">Ubersetzerbau 3: Analyse und Transformation </i>Reinhard Wilhelm and Helmut Seidl, Springer, 2010</li></ul></div></div></div>
<div class="ocaml_content"><div class="ocaml_modtype" name="G"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G" class="ocaml_internal">G</a> = <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"><div class="info">Minimal graph signature for work list algorithm</div></div><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre>
<div class="ocaml_module" name="V" path="http://127.0.0.1:8000/ocamlgraph/#Sig:COMPARABLE"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.V" class="ocaml_internal">V</a> : <code class="type"><code class="code"><a href="http://127.0.0.1:8000/ocamlgraph/#Sig:COMPARABLE">Sig.COMPARABLE</a></code></code></pre><div class="ocaml_summary"/></div>
<div class="ocaml_module" name="E"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.E" class="ocaml_internal">E</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre>
<pre class="odoccode"><span class="VALdst"><span class="keyword">val</span> dst</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.E.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.V.t" class="ocaml_internal">V.t</a></code></pre>
<pre class="odoccode"><span class="VALsrc"><span class="keyword">val</span> src</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.E.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.V.t" class="ocaml_internal">V.t</a></code></pre></div></div>
<pre class="odoccode"><span class="VALfold_vertex"><span class="keyword">val</span> fold_vertex</span> : <code class="type">(<a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.V.t" class="ocaml_internal">V.t</a> -&gt; 'a -&gt; 'a) -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.t" class="ocaml_internal">t</a> -&gt; 'a -&gt; 'a</code></pre>
<pre class="odoccode"><span class="VALsucc_e"><span class="keyword">val</span> succ_e</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.V.t" class="ocaml_internal">V.t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.E.t" class="ocaml_internal">E.t</a> list</code></pre>
<pre class="odoccode"><span class="VALpred_e"><span class="keyword">val</span> pred_e</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.V.t" class="ocaml_internal">V.t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.E.t" class="ocaml_internal">E.t</a> list</code></pre>
<pre class="odoccode"><span class="VALsucc"><span class="keyword">val</span> succ</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.V.t" class="ocaml_internal">V.t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.V.t" class="ocaml_internal">V.t</a> list</code></pre>
<pre class="odoccode"><span class="VALpred"><span class="keyword">val</span> pred</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.V.t" class="ocaml_internal">V.t</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G.V.t" class="ocaml_internal">V.t</a> list</code></pre></div></div>
<pre class="odoccode"><code><span class="TYPEdirection"><span class="keyword">type</span> direction</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTdirection.Forward"><span class="constructor">Forward</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTdirection.Backward"><span class="constructor">Backward</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Type of an analysis</div></td></tr></table>
<div class="ocaml_modtype" name="Analysis"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:Analysis" class="ocaml_internal">Analysis</a> = <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEdata"><span class="keyword">type</span> data</span></pre><div class="info">information stored at each vertex</div>
<pre class="odoccode"><span class="TYPEedge"><span class="keyword">type</span> edge</span></pre><div class="info">type of edges of the underlying graph</div>
<pre class="odoccode"><span class="TYPEvertex"><span class="keyword">type</span> vertex</span></pre><div class="info">type of vertices of the underlying graph</div>
<pre class="odoccode"><span class="TYPEg"><span class="keyword">type</span> g</span></pre><div class="info">type of the underlying graph</div>
<pre class="odoccode"><span class="VALdirection"><span class="keyword">val</span> direction</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint.direction" class="ocaml_internal">direction</a></code></pre><div class="info">the direction of the analysis</div>
<pre class="odoccode"><span class="VALjoin"><span class="keyword">val</span> join</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:Analysis.data" class="ocaml_internal">data</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:Analysis.data" class="ocaml_internal">data</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:Analysis.data" class="ocaml_internal">data</a></code></pre><div class="info">operation how to join data when paths meet</div>
<pre class="odoccode"><span class="VALequal"><span class="keyword">val</span> equal</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:Analysis.data" class="ocaml_internal">data</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:Analysis.data" class="ocaml_internal">data</a> -&gt; bool</code></pre><div class="info">predicate to determine the fixpoint</div>
<pre class="odoccode"><span class="VALanalyze"><span class="keyword">val</span> analyze</span> : <code class="type"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:Analysis.edge" class="ocaml_internal">edge</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:Analysis.data" class="ocaml_internal">data</a> -&gt; <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:Analysis.data" class="ocaml_internal">data</a></code></pre><div class="info">the actual analysis of one edge; provided the edge and the incoming
data, it needs to compute the outgoing data</div></div></div>
<div class="ocaml_module" name="Make"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint.Make" class="ocaml_internal">Make</a> : <code class="type"><div class="sig_block"><code class="code">functor (</code><code class="code">G</code><code class="code"> : </code><code class="code"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:G" class="ocaml_internal">G</a></code><code class="code">) -&gt; </code><div class="sig_block"><code class="code">functor (</code><code class="code">A</code><code class="code"> : </code><code class="code"><a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:Analysis" class="ocaml_internal">Analysis</a></code> with type <a href="http://127.0.0.1:8000/ocamlgraph/#Fixpoint:Analysis.g" class="ocaml_internal">g</a> = G.t with type edge = G.E.t with type vertex = G.V.t<code class="code">) -&gt; </code><code class="code">sig</code> .. <code class="code">end</code></div></div></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="VALanalyze"><span class="keyword">val</span> analyze</span> : <code class="type">(G.V.t -&gt; A.data) -&gt; A.g -&gt; G.V.t -&gt; A.data</code></pre><div class="info"><code class="code">analyze f g</code> computes the fixpoint on the given graph using the
work list algorithm. Beware that a misconstructed Analysis will
not terminate! <code class="code">f</code> is used to create the initial analysis
data. The function returned is a map to see what data was computed
for which node.<p>Beware of applying function <code class="code">analyze</code> partially, to arguments
<code class="code">f</code> and <code class="code">g</code> only. The result is a function that is to be used to query
the result of the analysis.</p></div></div></div>
</div></div>