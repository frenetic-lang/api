<div class="ocaml_top"><div class="ocaml_summary"/>
<div class="ocaml_content">

<div class="info">Module types for a <code class="code">binary_search</code> function for a sequence, and functors for building
<code class="code">binary_search</code> functions.</div>
<div class="ocaml_modtype" name="Indexable"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable" class="ocaml_internal">Indexable</a> = <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"><div class="info">An <code class="code">Indexable</code> type is a finite sequence of elements indexed by consecutive integers
<code class="code">0</code> ... <code class="code">length t - 1</code>. <code class="code">get</code> and <code class="code">length</code> must be O(1) for the resulting
<code class="code">binary_search</code> to be lg(n).</div></div><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEelt"><span class="keyword">type</span> elt</span></pre>
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre>
<pre class="odoccode"><span class="VALget"><span class="keyword">val</span> get</span> : <code class="type"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable.t" class="ocaml_internal">t</a> -&gt; int -&gt; <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable.elt" class="ocaml_internal">elt</a></code></pre>
<pre class="odoccode"><span class="VALlength"><span class="keyword">val</span> length</span> : <code class="type"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable.t" class="ocaml_internal">t</a> -&gt; int</code></pre>
<div class="ocaml_module" name="For_test"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable.For_test" class="ocaml_internal">For_test</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"><div class="info">To implement the test provided by <code class="code">Binary_searchable</code>, we need to be able to
construct <code class="code">t</code> with two different values <code class="code">small &lt; big</code>. We also need to be able to
build a <code class="code">t</code> from an <code class="code">elt array</code>.</div></div><div class="ocaml_content">
<pre class="odoccode"><span class="VALsmall"><span class="keyword">val</span> small</span> : <code class="type"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable.elt" class="ocaml_internal">elt</a></code></pre>
<pre class="odoccode"><span class="VALbig"><span class="keyword">val</span> big</span> : <code class="type"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable.elt" class="ocaml_internal">elt</a></code></pre>
<pre class="odoccode"><span class="VALof_array"><span class="keyword">val</span> of_array</span> : <code class="type"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable.elt" class="ocaml_internal">elt</a> array -&gt; <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable.t" class="ocaml_internal">t</a></code></pre></div></div></div></div>
<div class="ocaml_modtype" name="Indexable1"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable1" class="ocaml_internal">Indexable1</a> = <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> <code class="type">'a </code>t</span></pre>
<pre class="odoccode"><span class="VALget"><span class="keyword">val</span> get</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable1.t" class="ocaml_internal">t</a> -&gt; int -&gt; 'a</code></pre>
<pre class="odoccode"><span class="VALlength"><span class="keyword">val</span> length</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable1.t" class="ocaml_internal">t</a> -&gt; int</code></pre>
<div class="ocaml_module" name="For_test"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable1.For_test" class="ocaml_internal">For_test</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="VALof_array"><span class="keyword">val</span> of_array</span> : <code class="type">bool array -&gt; bool <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable1.t" class="ocaml_internal">t</a></code></pre></div></div></div></div>
<div class="ocaml_modtype" name="S"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S" class="ocaml_internal">S</a> = <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEelt"><span class="keyword">type</span> elt</span></pre>
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre>
<div class="info"><p>The functions produced by this functor are very powerful, but also somewhat
complex to read. Here are some simple examples to clarify the use cases.
Below we assume that the function <code class="code">compare</code> is in scope:</p><pre class="code"><code>      (* find the index of an element [e] in [t] *)
      binary_search t ~compare `First_equal_to e;

      (* find the index where an element [e] should be inserted *)
      binary_search t ~compare `First_greater_than_or_equal_to e;

      (* find the index in [t] where all elements to the left are less than [e] *)
      binary_search_segmented t ~segment_of:(fun e' -&gt;
        if compare e' e &lt;= 0 then `Left else `Right) `First_on_right</code></pre></div>
<pre class="odoccode"><span class="VALbinary_search"><span class="keyword">val</span> binary_search</span> : <code class="type">?pos:int -&gt;
?len:int -&gt;
<a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S.t" class="ocaml_internal">t</a> -&gt;
compare:(<a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S.elt" class="ocaml_internal">elt</a> -&gt; <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S.elt" class="ocaml_internal">elt</a> -&gt; int) -&gt;
[ `First_equal_to
| `First_greater_than_or_equal_to
| `First_strictly_greater_than
| `Last_equal_to
| `Last_less_than_or_equal_to
| `Last_strictly_less_than ] -&gt; <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S.elt" class="ocaml_internal">elt</a> -&gt; int option</code></pre><div class="info"><code class="code">binary_search ?pos ?len t ~compare which elt</code> takes <code class="code">t</code> that is sorted in
nondecreasing order according to <code class="code">compare</code>, where <code class="code">compare</code> and <code class="code">elt</code> divide <code class="code">t</code>
into three (possibly empty) segments:<pre class="verbatim">        |  &lt; elt  |  = elt  |  &gt; elt  |</pre><p><code class="code">binary_search</code> returns the index in <code class="code">t</code> of an element on the boundary of segments
as specified by <code class="code">which</code>. See the diagram below next to the <code class="code">which</code> variants.</p><p>By default, <code class="code">binary_search</code> searches the entire <code class="code">t</code>. One can supply <code class="code">?pos</code> or
<code class="code">?len</code> to search a slice of <code class="code">t</code>.</p><p><code class="code">binary_search</code> does not check that <code class="code">compare</code> orders <code class="code">t</code>, and behavior is
unspecified if <code class="code">compare</code> doesn't order <code class="code">t</code>. Behavior is also unspecified if
<code class="code">compare</code> mutates <code class="code">t</code>.</p></div>
<pre class="odoccode"><span class="VALbinary_search_segmented"><span class="keyword">val</span> binary_search_segmented</span> : <code class="type">?pos:int -&gt;
?len:int -&gt;
<a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S.t" class="ocaml_internal">t</a> -&gt;
segment_of:(<a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S.elt" class="ocaml_internal">elt</a> -&gt; [ `Left | `Right ]) -&gt;
[ `First_on_right | `Last_on_left ] -&gt; int option</code></pre><div class="info"><code class="code">binary_search_segmented ?pos ?len t ~segment_of which</code> takes an <code class="code">segment_of</code>
function that divides <code class="code">t</code> into two (possibly empty) segments:<pre class="verbatim">        | segment_of elt = `Left | segment_of elt = `Right |</pre><p><code class="code">binary_search_segmented</code> returns the index of the element on the boundary of the
segments as specified by <code class="code">which</code>: <code class="code">`Last_on_left</code> yields the index of the last
element of the left segment, while <code class="code">`First_on_right</code> yields the index of the first
element of the right segment. It returns <code class="code">None</code> if the segment is empty.</p><p>By default, <code class="code">binary_search</code> searches the entire <code class="code">t</code>. One can supply <code class="code">?pos</code> or
<code class="code">?len</code> to search a slice of <code class="code">t</code>.</p><p><code class="code">binary_search_segmented</code> does not check that <code class="code">segment_of</code> segments <code class="code">t</code> as in the
diagram, and behavior is unspecified if <code class="code">segment_of</code> doesn't segment <code class="code">t</code>. Behavior
is also unspecified if <code class="code">segment_of</code> mutates <code class="code">t</code>.</p></div></div></div>
<div class="ocaml_modtype" name="S1"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S1" class="ocaml_internal">S1</a> = <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> <code class="type">'a </code>t</span></pre>
<pre class="odoccode"><span class="VALbinary_search"><span class="keyword">val</span> binary_search</span> : <code class="type">?pos:int -&gt;
?len:int -&gt;
'a <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S1.t" class="ocaml_internal">t</a> -&gt;
compare:('a -&gt; 'a -&gt; int) -&gt;
[ `First_equal_to
| `First_greater_than_or_equal_to
| `First_strictly_greater_than
| `Last_equal_to
| `Last_less_than_or_equal_to
| `Last_strictly_less_than ] -&gt; 'a -&gt; int option</code></pre>
<pre class="odoccode"><span class="VALbinary_search_segmented"><span class="keyword">val</span> binary_search_segmented</span> : <code class="type">?pos:int -&gt;
?len:int -&gt;
'a <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S1.t" class="ocaml_internal">t</a> -&gt;
segment_of:('a -&gt; [ `Left | `Right ]) -&gt;
[ `First_on_right | `Last_on_left ] -&gt; int option</code></pre></div></div>
<div class="ocaml_modtype" name="Binary_searchable"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable" class="ocaml_internal">Binary_searchable</a> = <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<div class="ocaml_modtype" name="S" path="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable:S" class="ocaml_internal">S</a> = <code class="type"><code class="code"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S" class="ocaml_internal">S</a></code></code></pre><div class="ocaml_summary"/></div>
<div class="ocaml_modtype" name="S1" path="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S1"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable:S1" class="ocaml_internal">S1</a> = <code class="type"><code class="code"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S1" class="ocaml_internal">S1</a></code></code></pre><div class="ocaml_summary"/></div>
<div class="ocaml_modtype" name="Indexable" path="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable:Indexable" class="ocaml_internal">Indexable</a> = <code class="type"><code class="code"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable" class="ocaml_internal">Indexable</a></code></code></pre><div class="ocaml_summary"/></div>
<div class="ocaml_modtype" name="Indexable1" path="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable1"><pre class="odoccode"><span class="keyword">module type</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable:Indexable1" class="ocaml_internal">Indexable1</a> = <code class="type"><code class="code"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Indexable1" class="ocaml_internal">Indexable1</a></code></code></pre><div class="ocaml_summary"/></div>
<div class="ocaml_module" name="Make" path="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable:S"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable.Make" class="ocaml_internal">Make</a> : <code class="type"><div class="sig_block"><code class="code">functor (</code><code class="code">T</code><code class="code"> : </code><code class="code"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable:Indexable" class="ocaml_internal">Indexable</a></code><code class="code">) -&gt; </code><code class="code"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable:S" class="ocaml_internal">S</a></code> with type <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S.t" class="ocaml_internal">t</a> := T.t with type elt := T.elt</div></code></pre><div class="ocaml_summary"/></div>
<div class="ocaml_module" name="Make1" path="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable:S1"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable.Make1" class="ocaml_internal">Make1</a> : <code class="type"><div class="sig_block"><code class="code">functor (</code><code class="code">T</code><code class="code"> : </code><code class="code"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable:Indexable1" class="ocaml_internal">Indexable1</a></code><code class="code">) -&gt; </code><code class="code"><a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:Binary_searchable:S1" class="ocaml_internal">S1</a></code> with type <a href="http://127.0.0.1:8000/core_kernel/#Binary_searchable_intf:S1.t" class="ocaml_internal">t</a> := 'a T.t</div></code></pre><div class="ocaml_summary"/></div></div></div>


</div></div>