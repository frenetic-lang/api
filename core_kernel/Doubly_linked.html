<div class="ocaml_top"><div class="ocaml_summary"><div class="info">doubly-linked lists<p>Compared to other doubly-linked lists, in this one:</p><p>1. Calls to modification functions (insert*, move*, ...) detect if the list is being
iterated over (iter, fold, ...), and if so raise an exception. For example, a use
like the following would raise.</p><pre class="code"><code>      iter t ~f:(fun _ -&gt; ... remove t e ...)</code></pre><p>2. There is a designated &quot;front&quot; and &quot;back&quot; of each list, rather than viewing each
element as an equal in a ring.</p><p>3. Elements know which list they're in. Each operation that takes an <code class="code">Elt.t</code> also
takes a <code class="code">t</code>, first checks that the <code class="code">Elt</code> belongs to the <code class="code">t</code>, and if not, raises.</p><p>4. Related to (3), lists cannot be split, though a sort of splicing is available as
<code class="code">transfer</code>. In other words, no operation will cause one list to become two. This
makes this module unsuitable for maintaining the faces of a planar graph under edge
insertion and deletion, for example.</p><p>5. Another property permitted by (3) and (4) is that <code class="code">length</code> is O(1).</p></div></div>
<div class="ocaml_content"><div class="ocaml_module" name="Elt"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt" class="ocaml_internal">Elt</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> <code class="type">'a </code>t</span></pre>
<pre class="odoccode"><span class="VALvalue"><span class="keyword">val</span> value</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">t</a> -&gt; 'a</code></pre>
<pre class="odoccode"><span class="VALequal"><span class="keyword">val</span> equal</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">t</a> -&gt; bool</code></pre>
<pre class="odoccode"><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type">('a -&gt; <a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a>) -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a></code></pre></div></div>
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> <code class="type">'a </code>t</span></pre>
<div class="ocaml_include" path="http://127.0.0.1:8000/core_kernel/#Container:S1" items="[]" types="[]"><pre class="ocaml_include_handle"><span class="keyword">include</span> <code class="type"><code class="code"><a href="http://127.0.0.1:8000/core_kernel/#Container:S1">Container.S1</a></code> with type t := 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="VALinvariant"><span class="keyword">val</span> invariant</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">unit -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a></code></pre><div class="info">creating doubly-linked lists</div>
<pre class="odoccode"><span class="VALof_list"><span class="keyword">val</span> of_list</span> : <code class="type">'a list -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a></code></pre><div class="info"><code class="code">of_list l</code> returns a doubly-linked list <code class="code">t</code> with the same elements as <code class="code">l</code> and in the
same order (i.e. the first element of <code class="code">l</code> is the first element of <code class="code">t</code>). It is always
the case that <code class="code">l = to_list (of_list l)</code>.</div>
<pre class="odoccode"><span class="VALequal"><span class="keyword">val</span> equal</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; bool</code></pre><div class="info">predicates</div>
<pre class="odoccode"><span class="VALis_first"><span class="keyword">val</span> is_first</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; bool</code></pre>
<pre class="odoccode"><span class="VALis_last"><span class="keyword">val</span> is_last</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; bool</code></pre>
<pre class="odoccode"><span class="VALfirst_elt"><span class="keyword">val</span> first_elt</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> option</code></pre><div class="info">constant-time extraction of first and last elements.</div>
<pre class="odoccode"><span class="VALlast_elt"><span class="keyword">val</span> last_elt</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> option</code></pre>
<pre class="odoccode"><span class="VALfirst"><span class="keyword">val</span> first</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a option</code></pre>
<pre class="odoccode"><span class="VALlast"><span class="keyword">val</span> last</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a option</code></pre>
<pre class="odoccode"><span class="VALnext"><span class="keyword">val</span> next</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> option</code></pre><div class="info">constant-time retrieval of next or previous element.</div>
<pre class="odoccode"><span class="VALprev"><span class="keyword">val</span> prev</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> option</code></pre>
<pre class="odoccode"><span class="VALinsert_before"><span class="keyword">val</span> insert_before</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; 'a -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a></code></pre><div class="info">constant-time insertion of a new element.</div>
<pre class="odoccode"><span class="VALinsert_after"><span class="keyword">val</span> insert_after</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; 'a -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a></code></pre>
<pre class="odoccode"><span class="VALinsert_first"><span class="keyword">val</span> insert_first</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a></code></pre>
<pre class="odoccode"><span class="VALinsert_last"><span class="keyword">val</span> insert_last</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a></code></pre>
<pre class="odoccode"><span class="VALmove_to_front"><span class="keyword">val</span> move_to_front</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; unit</code></pre><div class="info">constant-time move of an element from and to positions in the same list.
An exception is raised if <code class="code">elt</code> is equal to <code class="code">anchor</code>.</div>
<pre class="odoccode"><span class="VALmove_to_back"><span class="keyword">val</span> move_to_back</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALmove_after"><span class="keyword">val</span> move_after</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; anchor:'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALmove_before"><span class="keyword">val</span> move_before</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; anchor:'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALremove"><span class="keyword">val</span> remove</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; unit</code></pre><div class="info">constant-time removal of an element.</div>
<pre class="odoccode"><span class="VALremove_first"><span class="keyword">val</span> remove_first</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a option</code></pre>
<pre class="odoccode"><span class="VALremove_last"><span class="keyword">val</span> remove_last</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a option</code></pre>
<pre class="odoccode"><span class="VALfold_elt"><span class="keyword">val</span> fold_elt</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; init:'b -&gt; f:('b -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; 'b) -&gt; 'b</code></pre><div class="info"><code class="code">fold_elt t ~init ~f</code> is the same as fold, except <code class="code">f</code> is called with the <code class="code">'a Elt.t</code>'s
from the list instead of the contained <code class="code">'a</code> values.<p>Note that like other iteration functions, it is an error to mutate <code class="code">t</code> inside the
fold. If you'd like to call <code class="code">remove</code> on any of the <code class="code">'a Elt.t</code>'s, accumulate them here
and do so after <code class="code">fold_elt</code> returns.</p></div>
<pre class="odoccode"><span class="VALiter_elt"><span class="keyword">val</span> iter_elt</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; f:('a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> -&gt; unit) -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALfold_right"><span class="keyword">val</span> fold_right</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; init:'b -&gt; f:('a -&gt; 'b -&gt; 'b) -&gt; 'b</code></pre>
<pre class="odoccode"><span class="VALfind_elt"><span class="keyword">val</span> find_elt</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; bool) -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.Elt.t" class="ocaml_internal">Elt.t</a> option</code></pre><div class="info"><code class="code">find_elt t ~f</code> finds the first element in <code class="code">t</code> that satisfies <code class="code">f</code>, by testing each of
element of <code class="code">t</code> in turn until <code class="code">f</code> succeeds.</div>
<pre class="odoccode"><span class="VALclear"><span class="keyword">val</span> clear</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; unit</code></pre><div class="info"><code class="code">clear t</code> removes all elements from the list in constant time.</div>
<pre class="odoccode"><span class="VALcopy"><span class="keyword">val</span> copy</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALtransfer"><span class="keyword">val</span> transfer</span> : <code class="type">src:'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; dst:'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; unit</code></pre><div class="info"><code class="code">transfer ~src ~dst</code> has the same behavior as
<code class="code">iter src ~f:(insert_last dst); clear src</code>
except that it runs in constant time.<p>If <code class="code">s = to_list src</code> and <code class="code">d = to_list dst</code>, then after <code class="code">transfer ~src ~dst</code>:
<code class="code">to_list src = []</code>
<code class="code">to_list dst = d @ s</code></p></div>
<pre class="odoccode"><span class="VALfilter_inplace"><span class="keyword">val</span> filter_inplace</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; bool) -&gt; unit</code></pre><div class="info"><code class="code">filter_inplace t ~f</code> removes all elements of <code class="code">t</code> that don't satisfy <code class="code">f</code>.</div>
<pre class="odoccode"><span class="VALunchecked_iter"><span class="keyword">val</span> unchecked_iter</span> : <code class="type">'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; f:('a -&gt; unit) -&gt; unit</code></pre><div class="info"><code class="code">unchecked_iter t ~f</code> behaves like <code class="code">iter t ~f</code> except that <code class="code">f</code> is allowed to modify
<code class="code">t</code>. Adding or removing elements before the element currently being visited has no
effect on the traversal. Elements added after the element currently being visited
will be traversed. Elements deleted after the element currently being visited will
not be traversed. Deleting the element currently visited is an error that is not
detected (presumably leading to an infinite loop) .</div>
<pre class="odoccode"><span class="VALt_of_sexp"><span class="keyword">val</span> t_of_sexp</span> : <code class="type">(<a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a> -&gt; 'a) -&gt; <a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a> -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type">('a -&gt; <a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a>) -&gt; 'a <a href="http://127.0.0.1:8000/core_kernel/#Doubly_linked.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a></code></pre>
</div></div>