<div class="ocaml_top"><div class="ocaml_summary"><div class="info">Internal to Async -- queues of jobs to run, one at each priority level.</div></div>
<div class="ocaml_content"><div class="ocaml_module" name="Job"><pre class="odoccode"><span class="keyword">module</span> <a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.Job" class="ocaml_internal">Job</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre>
<div class="ocaml_include" path="http://frenetic-lang.github.io/api//core/#Std.Invariant:S" items="[]" types="[]"><pre class="ocaml_include_handle"><span class="keyword">include</span> <code class="type"><code class="code"><a href="http://frenetic-lang.github.io/api//core/#Std.Invariant:S">Core.Std.Invariant.S</a></code> with type t := <a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.Job.t" class="ocaml_internal">t</a></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.Job.t" class="ocaml_internal">t</a> -&gt; <a href="http://frenetic-lang.github.io/api//sexplib/#Sexp.t">Sexplib.Sexp.t</a></code></pre></div></div>
<pre class="odoccode"><span class="TYPEt"><span class="keyword">type</span> t</span></pre>
<div class="ocaml_include" path="http://frenetic-lang.github.io/api//core/#Std.Invariant:S" items="[]" types="[]"><pre class="ocaml_include_handle"><span class="keyword">include</span> <code class="type"><code class="code"><a href="http://frenetic-lang.github.io/api//core/#Std.Invariant:S">Core.Std.Invariant.S</a></code> with type t := <a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">unit -&gt; <a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALlength"><span class="keyword">val</span> length</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; int</code></pre><div class="info"><code class="code">length t</code> returns the number of waiting jobs</div>
<pre class="odoccode"><span class="VALis_empty"><span class="keyword">val</span> is_empty</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; bool</code></pre><div class="info"><code class="code">is_empty t</code> returns true if there are no waiting jobs.</div>
<pre class="odoccode"><span class="VALenqueue"><span class="keyword">val</span> enqueue</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; <a href="http://frenetic-lang.github.io/api//async_kernel/#Execution_context.t">Execution_context.t</a> -&gt; ('a -&gt; unit) -&gt; 'a -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALcreate_job"><span class="keyword">val</span> create_job</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; <a href="http://frenetic-lang.github.io/api//async_kernel/#Execution_context.t">Execution_context.t</a> -&gt; ('a -&gt; unit) -&gt; 'a -&gt; <a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.Job.t" class="ocaml_internal">Job.t</a></code></pre>
<pre class="odoccode"><span class="VALenqueue_job"><span class="keyword">val</span> enqueue_job</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; <a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.Job.t" class="ocaml_internal">Job.t</a> -&gt; free_job:bool -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALstart_cycle"><span class="keyword">val</span> start_cycle</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt;
max_num_jobs_per_priority:<a href="http://frenetic-lang.github.io/api//async_kernel/#Import.Max_num_jobs_per_priority_per_cycle.t">Import.Max_num_jobs_per_priority_per_cycle.t</a> -&gt;
unit</code></pre><div class="info"><code class="code">start_cycle t ~max_num_jobs_per_priority</code> enables subsequent calls of <code class="code">run_all</code> to
run up to <code class="code">max_num_jobs_per_priority</code> jobs of each priority level.</div>
<pre class="odoccode"><span class="VALforce_current_cycle_to_end"><span class="keyword">val</span> force_current_cycle_to_end</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; unit</code></pre><div class="info"><code class="code">force_current_cycle_to_end</code> sets the number of normal jobs allowed to run in this
cycle to zero. Thus, after the currently running job completes, the scheduler will
switch to low priority jobs and then end the current cycle.</div>
<pre class="odoccode"><span class="VALrun_all"><span class="keyword">val</span> run_all</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt;
external_actions:(unit -&gt; unit) <a href="http://frenetic-lang.github.io/api//core/#Std.Thread_safe_queue.t">Core.Std.Thread_safe_queue.t</a> -&gt;
(unit, exn) <a href="http://frenetic-lang.github.io/api//core/#Std.Result.t">Core.Std.Result.t</a></code></pre><div class="info"><code class="code">run_all t f</code> removes jobs from <code class="code">t</code> one at a time and applies <code class="code">f</code> to them, stopping as
soon as an unhandled exception is raised, or when no more jobs can be run at any
priority, as per <code class="code">~max_num_jobs_per_priority</code>. The <code class="code">external_actions</code> queue is
checked at each job, and any thunk that can be dequeued is run immediately.</div>
<pre class="odoccode"><span class="VALcurrent_execution_context"><span class="keyword">val</span> current_execution_context</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; <a href="http://frenetic-lang.github.io/api//async_kernel/#Execution_context.t">Execution_context.t</a></code></pre>
<pre class="odoccode"><span class="VALset_execution_context"><span class="keyword">val</span> set_execution_context</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; <a href="http://frenetic-lang.github.io/api//async_kernel/#Execution_context.t">Execution_context.t</a> -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALuncaught_exn"><span class="keyword">val</span> uncaught_exn</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; <a href="http://frenetic-lang.github.io/api//core/#Std.Error.t">Core.Std.Error.t</a> option</code></pre>
<pre class="odoccode"><span class="VALgot_uncaught_exn"><span class="keyword">val</span> got_uncaught_exn</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; <a href="http://frenetic-lang.github.io/api//core/#Std.Error.t">Core.Std.Error.t</a> -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALglobal_kill_index"><span class="keyword">val</span> global_kill_index</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; <a href="http://frenetic-lang.github.io/api//async_kernel/#Kill_index.t">Kill_index.t</a></code></pre>
<pre class="odoccode"><span class="VALinc_global_kill_index"><span class="keyword">val</span> inc_global_kill_index</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; unit</code></pre>
<pre class="odoccode"><span class="VALnum_jobs_run"><span class="keyword">val</span> num_jobs_run</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; int</code></pre>
<pre class="odoccode"><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//async_kernel/#Jobs.t" class="ocaml_internal">t</a> -&gt; <a href="http://frenetic-lang.github.io/api//sexplib/#Sexp.t">Sexplib.Sexp.t</a></code></pre>
</div></div>