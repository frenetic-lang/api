<div class="ocaml_top"><div class="ocaml_summary"><div class="info">Send log messages via the Unix Syslog interface.<p>Syslog is great for system daemons that log free-form human readable status messages
or other debugging output, but not so great for archiving structured data. Access to
read Syslog's messages may also be restricted. <code class="code">syslogd</code>'s logs are also not
necessarily kept forever. For application level logging consider
Core_extended.Std.Logger instead.</p></div></div>
<div class="ocaml_content"><div class="ocaml_module" name="Open_option"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/core/#Syslog.Open_option" class="ocaml_internal">Open_option</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><code><span class="TYPEt"><span class="keyword">type</span> t</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.PID"><span class="constructor">PID</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Include PID with each message</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.CONS"><span class="constructor">CONS</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Write directly to system console if there is an error
while sending to system logger</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.ODELAY"><span class="constructor">ODELAY</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Delay opening of the connection until syslog is called</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.NDELAY"><span class="constructor">NDELAY</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">No delay opening connection to syslog daemon</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.NOWAIT"><span class="constructor">NOWAIT</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Do not wait for child processes while logging message</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.PERROR"><span class="constructor">PERROR</span></span></code></td></tr></table>
<pre class="odoccode"><span class="VALt_of_sexp"><span class="keyword">val</span> t_of_sexp</span> : <code class="type"><a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a> -&gt; <a href="http://127.0.0.1:8000/core/#Syslog.Open_option.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type"><a href="http://127.0.0.1:8000/core/#Syslog.Open_option.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a></code></pre><div class="info">Print to stderr as well</div></div></div>
<div class="ocaml_module" name="Facility"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/core/#Syslog.Facility" class="ocaml_internal">Facility</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"><div class="info">Types of messages</div></div><div class="ocaml_content">
<pre class="odoccode"><code><span class="TYPEt"><span class="keyword">type</span> t</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.KERN"><span class="constructor">KERN</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Kernel messages</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.USER"><span class="constructor">USER</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Generic user-level message (default)</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.MAIL"><span class="constructor">MAIL</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Mail subsystem</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.DAEMON"><span class="constructor">DAEMON</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">System daemons without separate facility value</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.AUTH"><span class="constructor">AUTH</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Security/authorization messages (DEPRECATED, use AUTHPRIV)</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.SYSLOG"><span class="constructor">SYSLOG</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Messages generated internally by syslogd</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.LPR"><span class="constructor">LPR</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Line printer subsystem</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.NEWS"><span class="constructor">NEWS</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">USENET news subsystem</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.UUCP"><span class="constructor">UUCP</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">UUCP subsystem</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.CRON"><span class="constructor">CRON</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Clock daemon (cron and at)</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.AUTHPRIV"><span class="constructor">AUTHPRIV</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Security/authorization messages (private)</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.FTP"><span class="constructor">FTP</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">FTP daemon</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.LOCAL0"><span class="constructor">LOCAL0</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.LOCAL1"><span class="constructor">LOCAL1</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.LOCAL2"><span class="constructor">LOCAL2</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.LOCAL3"><span class="constructor">LOCAL3</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.LOCAL4"><span class="constructor">LOCAL4</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.LOCAL5"><span class="constructor">LOCAL5</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.LOCAL6"><span class="constructor">LOCAL6</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.LOCAL7"><span class="constructor">LOCAL7</span></span></code></td></tr></table>
<pre class="odoccode"><span class="VALt_of_sexp"><span class="keyword">val</span> t_of_sexp</span> : <code class="type"><a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a> -&gt; <a href="http://127.0.0.1:8000/core/#Syslog.Facility.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type"><a href="http://127.0.0.1:8000/core/#Syslog.Facility.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a></code></pre><div class="info">LOCAL0-7 reserved for local use</div></div></div>
<div class="ocaml_module" name="Level"><pre class="odoccode"><span class="keyword">module</span> <a href="http://127.0.0.1:8000/core/#Syslog.Level" class="ocaml_internal">Level</a> : <code class="type"><code class="code">sig</code> .. <code class="code">end</code></code></pre><div class="ocaml_summary"/><div class="ocaml_content">
<pre class="odoccode"><code><span class="TYPEt"><span class="keyword">type</span> t</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.EMERG"><span class="constructor">EMERG</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">System is unusable</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.ALERT"><span class="constructor">ALERT</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Action must be taken immediately</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.CRIT"><span class="constructor">CRIT</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Critical condition</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.ERR"><span class="constructor">ERR</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Error conditions</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.WARNING"><span class="constructor">WARNING</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Warning conditions</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.NOTICE"><span class="constructor">NOTICE</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Normal, but significant, condition</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.INFO"><span class="constructor">INFO</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Informational message</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTt.DEBUG"><span class="constructor">DEBUG</span></span></code></td></tr></table>
<pre class="odoccode"><span class="VALall"><span class="keyword">val</span> all</span> : <code class="type"><a href="http://127.0.0.1:8000/core/#Syslog.Level.t" class="ocaml_internal">t</a> list</code></pre>
<div class="info"><code class="code">DEBUG</code> &lt; <code class="code">EMERG</code></div>
<div class="ocaml_include" path="http://127.0.0.1:8000/core/#Stringable:S" items="[]" types="[]"><pre class="ocaml_include_handle"><span class="keyword">include</span> <code class="type"><code class="code"><a href="http://127.0.0.1:8000/core/#Stringable:S">Stringable.S</a></code> with type t := <a href="http://127.0.0.1:8000/core/#Syslog.Level.t" class="ocaml_internal">t</a></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="VALt_of_sexp"><span class="keyword">val</span> t_of_sexp</span> : <code class="type"><a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a> -&gt; <a href="http://127.0.0.1:8000/core/#Syslog.Level.t" class="ocaml_internal">t</a></code></pre>
<pre class="odoccode"><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type"><a href="http://127.0.0.1:8000/core/#Syslog.Level.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/sexplib/#Sexp.t">Sexplib.Sexp.t</a></code></pre>
<pre class="odoccode"><span class="VALcompare"><span class="keyword">val</span> compare</span> : <code class="type"><a href="http://127.0.0.1:8000/core/#Syslog.Level.t" class="ocaml_internal">t</a> -&gt; <a href="http://127.0.0.1:8000/core/#Syslog.Level.t" class="ocaml_internal">t</a> -&gt; int</code></pre><div class="info">Debug-level message</div></div></div>
<pre class="odoccode"><span class="VALsetlogmask"><span class="keyword">val</span> setlogmask</span> : <code class="type">?allowed_levels:<a href="http://127.0.0.1:8000/core/#Syslog.Level.t" class="ocaml_internal">Level.t</a> list -&gt;
?from_level:<a href="http://127.0.0.1:8000/core/#Syslog.Level.t" class="ocaml_internal">Level.t</a> -&gt; ?to_level:<a href="http://127.0.0.1:8000/core/#Syslog.Level.t" class="ocaml_internal">Level.t</a> -&gt; unit -&gt; unit</code></pre><div class="info">All levels in <code class="code">allowed_levels</code> will be allowed, and additionally all ranging from
<code class="code">from_level</code> to <code class="code">to_level</code> (inclusive).</div>
<div class="info"><h2 id="2_TITLE">Logging functions</h2></div>
<pre class="odoccode"><span class="VALopenlog"><span class="keyword">val</span> openlog</span> : <code class="type">?id:string -&gt;
?options:<a href="http://127.0.0.1:8000/core/#Syslog.Open_option.t" class="ocaml_internal">Open_option.t</a> list -&gt; ?facility:<a href="http://127.0.0.1:8000/core/#Syslog.Facility.t" class="ocaml_internal">Facility.t</a> -&gt; unit -&gt; unit</code></pre><div class="info"><code class="code">openlog ~id ~options ~facility ()</code> opens a connection to the system logger (possibly
delayed) using prefixed identifier <code class="code">id</code>, <code class="code">options</code>, and <code class="code">facility</code>.<p>WARNING: this function leaks the <code class="code">id</code> argument, if provided. There is no way around
that if syslog is called in a multi-threaded environment! Therefore it shouldn't be
called too often. What for, anyway?</p><p>Calling <code class="code">openlog</code> before <code class="code">syslog</code> is optional. If you forget, syslog will do it for
you with the defaults.</p></div>
<pre class="odoccode"><span class="VALsyslog"><span class="keyword">val</span> syslog</span> : <code class="type">?facility:<a href="http://127.0.0.1:8000/core/#Syslog.Facility.t" class="ocaml_internal">Facility.t</a> -&gt; ?level:<a href="http://127.0.0.1:8000/core/#Syslog.Level.t" class="ocaml_internal">Level.t</a> -&gt; ?add_stderr:bool -&gt; string -&gt; unit</code></pre><div class="info"><code class="code">syslog ~facility ~level message</code> logs <code class="code">message</code> using syslog with <code class="code">facility</code> at
<code class="code">level</code>.</div>
<pre class="odoccode"><span class="VALsyslogf"><span class="keyword">val</span> syslogf</span> : <code class="type">?facility:<a href="http://127.0.0.1:8000/core/#Syslog.Facility.t" class="ocaml_internal">Facility.t</a> -&gt;
?level:<a href="http://127.0.0.1:8000/core/#Syslog.Level.t" class="ocaml_internal">Level.t</a> -&gt; ?add_stderr:bool -&gt; ('a, unit, string, unit) format4 -&gt; 'a</code></pre><div class="info"><code class="code">syslog_printf</code> acts like <code class="code">syslog</code>, but allows <code class="code">printf</code>-style specification of the
message.</div>
<pre class="odoccode"><span class="VALcloselog"><span class="keyword">val</span> closelog</span> : <code class="type">unit -&gt; unit</code></pre><div class="info"><code class="code">closelog ()</code> closes the connection to the <code class="code">syslog</code> daemon.</div>
</div></div>