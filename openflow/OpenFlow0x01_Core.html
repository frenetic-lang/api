<div class="ocaml_top"><div class="ocaml_summary"><div class="info">Library for constructing, marshalling, and parsing OpenFlow 1.0 messages.
It is largely drawn from the OpenFlow 1.0 specification:<p> <a href="http://www.openflow.org/documents/openflow-spec-v1.0.0.pdf">http://www.openflow.org/documents/openflow-spec-v1.0.0.pdf</a></p><p>Most data structures are documented with a pointer to relevent section in the
OpenFlow 1.0 specification, rather than reproducing the specification here.</p></div></div>
<div class="ocaml_content"><div class="info"><h2 id="2_TITLE">OpenFlow types</h2><p>These types are primarily drawn from Section 5 of the OpenFlow 1.0
specification.</p></div>
<pre class="odoccode"><code><span class="TYPEmask"><span class="keyword">type</span> <code class="type">'a </code>mask</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTmask.m_value">m_value</span> : <code class="type">'a</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTmask.m_mask">m_mask</span> : <code class="type">'a option</code>;</code></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><span class="TYPEswitchId"><span class="keyword">type</span> switchId</span> = <code class="type">int64</code></pre><div class="info"><code class="code">switchId</code> is the type of switch identifiers received as part of
<code class="code">SwitchFeature</code> replies.</div>
<pre class="odoccode"><span class="TYPEportId"><span class="keyword">type</span> portId</span> = <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.int16">Packet.int16</a></code></pre><div class="info"><code class="code">portId</code> is the type of physical port identifiers (port numbers).</div>
<pre class="odoccode"><span class="TYPEqueueId"><span class="keyword">type</span> queueId</span> = <code class="type">int32</code></pre><div class="info"><code class="code">queueId</code> identifies a specific queue for QoS.</div>
<pre class="odoccode"><span class="TYPExid"><span class="keyword">type</span> xid</span> = <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow_Header.xid">OpenFlow_Header.xid</a></code></pre><div class="info">Transaction ID of OpenFlow messages.</div>
<pre class="odoccode"><code><span class="TYPEpattern"><span class="keyword">type</span> pattern</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.dlSrc">dlSrc</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.dlAddr">Packet.dlAddr</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Ethernet source address.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.dlDst">dlDst</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.dlAddr">Packet.dlAddr</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Etherent destination address.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.dlTyp">dlTyp</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.dlTyp">Packet.dlTyp</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Ethernet frame type.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.dlVlan">dlVlan</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.dlVlan">Packet.dlVlan</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Input VLAN id.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.dlVlanPcp">dlVlanPcp</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.dlVlanPcp">Packet.dlVlanPcp</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Input VLAN priority.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.nwSrc">nwSrc</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.nwAddr">Packet.nwAddr</a> <a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.mask" class="ocaml_internal">mask</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">IP source address.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.nwDst">nwDst</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.nwAddr">Packet.nwAddr</a> <a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.mask" class="ocaml_internal">mask</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">IP destination address.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.nwProto">nwProto</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.nwProto">Packet.nwProto</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">IP protocol.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.nwTos">nwTos</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.nwTos">Packet.nwTos</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">IP ToS.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.tpSrc">tpSrc</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.tpPort">Packet.tpPort</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">TCP/UDP source port.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.tpDst">tpDst</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.tpPort">Packet.tpPort</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">TCP/UDP destination port.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpattern.inPort">inPort</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.portId" class="ocaml_internal">portId</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Input switch port.</div></td></tr><tr><td>}</td></tr></table><div class="info">A pattern that matches a packet headers.<p>For each field, write <code class="code">Some x</code> indicates that the headers must be
<code class="code">x</code>, where <code class="code">None</code> is a wildcard.</p></div>
<pre class="odoccode"><code><span class="TYPEpseudoPort"><span class="keyword">type</span> pseudoPort</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpseudoPort.PhysicalPort"><span class="constructor">PhysicalPort</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.portId" class="ocaml_internal">portId</a></code></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpseudoPort.InPort"><span class="constructor">InPort</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Send the packet out the input port. This virtual port
must be explicitly used in order to send back out of
the input port.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpseudoPort.Table"><span class="constructor">Table</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Perform actions in flow table. NB: This can only be
the destination port for packet-out messages.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpseudoPort.Normal"><span class="constructor">Normal</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Process with normal L2/L3 switching.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpseudoPort.Flood"><span class="constructor">Flood</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">All physical ports except input port and those
disabled by STP.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpseudoPort.AllPorts"><span class="constructor">AllPorts</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">All physical ports except input port.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpseudoPort.Controller"><span class="constructor">Controller</span></span> <span class="keyword">of</span> <code class="type">int</code></code></td><td class="typefieldcomment" align="left"><div class="info">Send to controller along with <code class="code">n</code> (max 1024) bytes
of the packet.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpseudoPort.Local"><span class="constructor">Local</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Local openflow &quot;port&quot;.</div></td></tr></table><div class="info">A pseudo-port, as described by the <code class="code">ofp_port</code> enumeration in
Section 5.2.1 of the OpenFlow 1.0 specification.</div>
<pre class="odoccode"><code><span class="TYPEaction"><span class="keyword">type</span> action</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaction.Output"><span class="constructor">Output</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.pseudoPort" class="ocaml_internal">pseudoPort</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Output to switch port.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaction.SetDlVlan"><span class="constructor">SetDlVlan</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.dlVlan">Packet.dlVlan</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Set the 802.1Q VLAN ID. A value of None strips
the 802.1Q header.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaction.SetDlVlanPcp"><span class="constructor">SetDlVlanPcp</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.dlVlanPcp">Packet.dlVlanPcp</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Set the 802.1Q priority.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaction.SetDlSrc"><span class="constructor">SetDlSrc</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.dlAddr">Packet.dlAddr</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Set ethernet source address.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaction.SetDlDst"><span class="constructor">SetDlDst</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.dlAddr">Packet.dlAddr</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Set ethernet destination address.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaction.SetNwSrc"><span class="constructor">SetNwSrc</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.nwAddr">Packet.nwAddr</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Set IP source address.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaction.SetNwDst"><span class="constructor">SetNwDst</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.nwAddr">Packet.nwAddr</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Set IP destination address.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaction.SetNwTos"><span class="constructor">SetNwTos</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.nwTos">Packet.nwTos</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Set IP ToS.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaction.SetTpSrc"><span class="constructor">SetTpSrc</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.tpPort">Packet.tpPort</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Set TCP/UDP source port.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaction.SetTpDst"><span class="constructor">SetTpDst</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.tpPort">Packet.tpPort</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Set TCP/UDP destination port.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTaction.Enqueue"><span class="constructor">Enqueue</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.pseudoPort" class="ocaml_internal">pseudoPort</a> * <a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.queueId" class="ocaml_internal">queueId</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Enqueue to a switch queue</div></td></tr></table><div class="info">Flow action data structure. See Section 5.2.4 of the OpenFlow 1.0
specification.</div>
<pre class="odoccode"><code><span class="TYPEtimeout"><span class="keyword">type</span> timeout</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTtimeout.Permanent"><span class="constructor">Permanent</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">No timeout.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTtimeout.ExpiresAfter"><span class="constructor">ExpiresAfter</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.int16">Packet.int16</a></code></code></td><td class="typefieldcomment" align="left"><div class="info">Time out after <code class="code">n</code> seconds.</div></td></tr></table><div class="info">The type of flow rule timeouts. See Section 5.3.3 of the OpenFlow 1.0
specification.</div>
<pre class="odoccode"><code><span class="TYPEflowModCommand"><span class="keyword">type</span> flowModCommand</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTflowModCommand.AddFlow"><span class="constructor">AddFlow</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">New flow.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTflowModCommand.ModFlow"><span class="constructor">ModFlow</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Modify all matching flows.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTflowModCommand.ModStrictFlow"><span class="constructor">ModStrictFlow</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Modify entry strictly matching wildcards.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTflowModCommand.DeleteFlow"><span class="constructor">DeleteFlow</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Delete all matching flows.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTflowModCommand.DeleteStrictFlow"><span class="constructor">DeleteStrictFlow</span></span></code></td><td class="typefieldcomment" align="left"><div class="info">Delete entry strictly matching wildcards.</div></td></tr></table><div class="info">See the <code class="code">ofp_flow_mod_command</code> enumeration in Section 5.3.3 of the
OpenFlow 1.0 specification.</div>
<pre class="odoccode"><code><span class="TYPEflowMod"><span class="keyword">type</span> flowMod</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowMod.command">command</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.flowModCommand" class="ocaml_internal">flowModCommand</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowMod.pattern">pattern</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.pattern" class="ocaml_internal">pattern</a></code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Fields to match.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowMod.priority">priority</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.int16">Packet.int16</a></code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Priority level of flow entry.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowMod.actions">actions</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.action" class="ocaml_internal">action</a> list</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Actions.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowMod.cookie">cookie</span> : <code class="type">int64</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Opaque controller-issued identifier.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowMod.idle_timeout">idle_timeout</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.timeout" class="ocaml_internal">timeout</a></code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Idle time before discarding (seconds).</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowMod.hard_timeout">hard_timeout</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.timeout" class="ocaml_internal">timeout</a></code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Max time before discarding (seconds).</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowMod.notify_when_removed">notify_when_removed</span> : <code class="type">bool</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Send flow removed message when flow
expires or is deleted.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowMod.apply_to_packet">apply_to_packet</span> : <code class="type">int32 option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Optional buffered packet to apply
to.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowMod.out_port">out_port</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.pseudoPort" class="ocaml_internal">pseudoPort</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">For <code class="code">DeleteFlow</code> and
<code class="code">DeleteStrictFlow</code> modifications, require
matching entries to include this as an
output port. A value of <code class="code">None</code> indicates
no restriction.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowMod.check_overlap">check_overlap</span> : <code class="type">bool</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Check for overlapping entries first.</div></td></tr><tr><td>}</td></tr></table><div class="info">A flow modification data structure. See Section 5.3.3 of the OpenFlow 1.0
specification.</div>
<pre class="odoccode"><code><span class="TYPEpayload"><span class="keyword">type</span> payload</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.Buffered"><span class="constructor">Buffered</span></span> <span class="keyword">of</span> <code class="type">int32 * <a href="http://frenetic-lang.github.io/api//packet/#Packet.bytes">Packet.bytes</a></code></code></td><td class="typefieldcomment" align="left"><div class="info"><code class="code">Buffered (id, buf)</code> is a packet buffered on a switch.</div></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpayload.NotBuffered"><span class="constructor">NotBuffered</span></span> <span class="keyword">of</span> <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.bytes">Packet.bytes</a></code></code></td></tr></table><div class="info">The payload for <code class="code">packetIn</code> and <code class="code">packetOut</code> messages.</div>
<pre class="odoccode"><code><span class="TYPEpacketInReason"><span class="keyword">type</span> packetInReason</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpacketInReason.NoMatch"><span class="constructor">NoMatch</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTpacketInReason.ExplicitSend"><span class="constructor">ExplicitSend</span></span></code></td></tr></table><div class="info">A packet-in message. See Section 5.4.1 of the OpenFlow 1.0
specification.</div>
<pre class="odoccode"><code><span class="TYPEpacketIn"><span class="keyword">type</span> packetIn</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpacketIn.input_payload">input_payload</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.payload" class="ocaml_internal">payload</a></code>;</code></td><td class="typefieldcomment" align="left"><div class="info">The packet contents, which may truncated, in which case,
the full packet is buffered on the switch.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpacketIn.total_len">total_len</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.int16">Packet.int16</a></code>;</code></td><td class="typefieldcomment" align="left"><div class="info">The length of the full packet, which may exceed the length
of <code class="code">payload</code> if the packet is buffered.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpacketIn.port">port</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.portId" class="ocaml_internal">portId</a></code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Port on which frame was received.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpacketIn.reason">reason</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.packetInReason" class="ocaml_internal">packetInReason</a></code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Reason packet is being sent.</div></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><code><span class="TYPEflowRemovedReason"><span class="keyword">type</span> flowRemovedReason</span> = </code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemovedReason.IdleTimeout"><span class="constructor">IdleTimeout</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemovedReason.HardTimeout"><span class="constructor">HardTimeout</span></span></code></td></tr><tr><td align="left" valign="top"><code><span class="keyword">|</span></code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemovedReason.Delete"><span class="constructor">Delete</span></span></code></td></tr></table><div class="info">A flow-removed message. See Section 5.4.2 of the OpenFlow 1.0
specification.</div>
<pre class="odoccode"><code><span class="TYPEflowRemoved"><span class="keyword">type</span> flowRemoved</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemoved.pattern">pattern</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.pattern" class="ocaml_internal">pattern</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemoved.cookie">cookie</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemoved.priority">priority</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.int16">Packet.int16</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemoved.reason">reason</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.flowRemovedReason" class="ocaml_internal">flowRemovedReason</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemoved.duration_sec">duration_sec</span> : <code class="type">int32</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemoved.duration_nsec">duration_nsec</span> : <code class="type">int32</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemoved.idle_timeout">idle_timeout</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.timeout" class="ocaml_internal">timeout</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemoved.packet_count">packet_count</span> : <code class="type">int64</code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTflowRemoved.byte_count">byte_count</span> : <code class="type">int64</code>;</code></td></tr><tr><td>}</td></tr></table>
<pre class="odoccode"><code><span class="TYPEpacketOut"><span class="keyword">type</span> packetOut</span> = {</code></pre><table class="typetable">
		    <tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpacketOut.output_payload">output_payload</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.payload" class="ocaml_internal">payload</a></code>;</code></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpacketOut.port_id">port_id</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.portId" class="ocaml_internal">portId</a> option</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Packet's input port.</div></td></tr><tr><td align="left" valign="top"><code>  </code></td><td align="left" valign="top"><code><span class="TYPEELTpacketOut.apply_actions">apply_actions</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.action" class="ocaml_internal">action</a> list</code>;</code></td><td class="typefieldcomment" align="left"><div class="info">Actions.</div></td></tr><tr><td>}</td></tr></table><div class="info">A send-packet message. See Section 5.3.6 of the OpenFlow 1.0
specification.</div>
<div class="info"><h2 id="2_TITLE">Convenient Functions</h2></div>
<pre class="odoccode"><span class="VALparse_payload"><span class="keyword">val</span> parse_payload</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.payload" class="ocaml_internal">payload</a> -&gt; <a href="http://frenetic-lang.github.io/api//packet/#Packet.packet">Packet.packet</a></code></pre>
<pre class="odoccode"><span class="VALmarshal_payload"><span class="keyword">val</span> marshal_payload</span> : <code class="type">int32 option -&gt; <a href="http://frenetic-lang.github.io/api//packet/#Packet.packet">Packet.packet</a> -&gt; <a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.payload" class="ocaml_internal">payload</a></code></pre><div class="info"><code class="code">marshal_payload buf pkt</code> serializes pkt, where <code class="code">buf</code> is an optional
buffer ID.</div>
<pre class="odoccode"><span class="VALmatch_all"><span class="keyword">val</span> match_all</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.pattern" class="ocaml_internal">pattern</a></code></pre><div class="info">A pattern that matches all packets. (All fields wildcarded.)</div>
<pre class="odoccode"><span class="VALadd_flow"><span class="keyword">val</span> add_flow</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.int16">Packet.int16</a> -&gt;
<a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.pattern" class="ocaml_internal">pattern</a> -&gt; ?idle_to:<a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.timeout" class="ocaml_internal">timeout</a> -&gt; ?notify_removed:bool -&gt; <a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.action" class="ocaml_internal">action</a> list -&gt; <a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.flowMod" class="ocaml_internal">flowMod</a></code></pre><div class="info"><code class="code">add_flow priority pattern action_sequence</code> creates a
<code class="code">FlowMod.t</code> instruction that adds a new flow table entry with
the specified <code class="code">priority</code>, <code class="code">pattern</code>, and <code class="code">action_sequence</code>.<p>The entry is permanent (i.e., does not timeout), its cookie is
zero, etc.</p></div>
<pre class="odoccode"><span class="VALdelete_flow_strict"><span class="keyword">val</span> delete_flow_strict</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//packet/#Packet.int16">Packet.int16</a> -&gt; <a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.pattern" class="ocaml_internal">pattern</a> -&gt; <a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.pseudoPort" class="ocaml_internal">pseudoPort</a> option -&gt; <a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.flowMod" class="ocaml_internal">flowMod</a></code></pre>
<pre class="odoccode"><span class="VALdelete_all_flows"><span class="keyword">val</span> delete_all_flows</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.flowMod" class="ocaml_internal">flowMod</a></code></pre>
<div class="info"><h2 id="2_TITLE">Printing and Debugging</h2></div>
<pre class="odoccode"><span class="VALpacketIn_to_string"><span class="keyword">val</span> packetIn_to_string</span> : <code class="type"><a href="http://frenetic-lang.github.io/api//openflow/#OpenFlow0x01_Core.packetIn" class="ocaml_internal">packetIn</a> -&gt; string</code></pre>
<div class="info"><h3 id="patternexamples">Pattern Examples</h3><p>For example, the following pattern matches all packets from the
host with Ethernet address 00:00:00:00:00:12:</p><p><code class="code">let from_host12 = {
  dlSrc = Some 0x000000000012L;
  dlDst = None; 
  dlTyp = None;
  dlVlan = None;
  dlVlanPcp = None;
  nwSrc = None;
  nwDst = None;
  nwProto = None;
  nwTos = None;
  tpSrc = None;
  tpDst = None;
  inPort = None
}</code></p><p>This is quite verbose. You can abbreviate using functional update.
The builtin pattern match_all has all fields sets to
<code class="code">None</code>. So, the following definition is identical to the one
above:</p><p><code class="code">let from_host12 = { match_all with dlSrc = Some 0x000000000012L }</code></p><p>Here are a few more examples.</p><p>This pattern matches all packets:</p><p><code class="code">let all_ip = { match_all with dlTyp = Some 0x800 }</code></p><p>This pattern matches all packets with source IP address 10.0.0.1:</p><p><code class="code">let from_10_0_0_1 = { match_all with dlTyp = Some 0x800; nwSrc = Some 0x10000001 }</code></p><p>This pattern matches all TCP packets:
<code class="code">let al_tcp = { match_all with dlTyp = Some 0x800; nwProto = Some 6 }</code></p><p>Note that to match IP-level headers, e.g., <code class="code">nwProto</code> and <code class="code">nwSrc</code>),
we have to write <code class="code">dlTyp = Some 0x800</code>, or they are ignored.</p></div>
</div></div>