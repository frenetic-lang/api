<div class="ocaml_top"><div class="ocaml_summary"><div class="info"><code class="code">Async.Command</code> is <code class="code">Core.Command</code> with additional Async functions.</div></div>
<div class="ocaml_content"><div class="ocaml_include" path="http://127.0.0.1:8000/core/#Std.Command" items="[&quot;Deprecated&quot;,&quot;Spec&quot;]" types="[&quot;basic_command&quot;,&quot;t&quot;]"><pre class="ocaml_include_handle"><span class="keyword">include</span> <code class="type">module type of <code class="code"><a href="http://127.0.0.1:8000/core/#Std.Command">Core.Std.Command</a></code> with type t = <a href="http://127.0.0.1:8000/core/#Std.Command.t">Core.Std.Command.t</a> with module Spec = <a href="http://127.0.0.1:8000/core/#Std.Command.Spec">Core.Std.Command.Spec</a></code></pre><div class="ocaml_summary"/></div>
<pre class="odoccode"><span class="VALasync"><span class="keyword">val</span> async</span> : <code class="type">('a, unit <a href="http://127.0.0.1:8000/async_extra/#Import.Deferred.t">Import.Deferred.t</a>) <a href="http://127.0.0.1:8000/async_extra/#Command.basic_command" class="ocaml_internal">basic_command</a></code></pre><div class="info"><code class="code">async</code> is like <code class="code">Core.Command.basic</code>, except that the main function it expects returns
<code class="code">unit Deferred.t</code>, instead of <code class="code">unit</code>. <code class="code">async</code> will also start the Async scheduler
before main is run, and will stop the scheduler when main returns.</div>
<pre class="odoccode"><span class="VALasync_basic"><span class="keyword">val</span> async_basic</span> : <code class="type">('a, unit <a href="http://127.0.0.1:8000/async_extra/#Import.Deferred.t">Import.Deferred.t</a>) <a href="http://127.0.0.1:8000/async_extra/#Command.basic_command" class="ocaml_internal">basic_command</a></code></pre><div class="info"><code class="code">async_basic</code> is a deprecated synonym for <code class="code">async</code> that will eventually go away. It is
here to give code outside jane street a chance to switch over before we delete it.</div>
<pre class="odoccode"><span class="VALasync_or_error"><span class="keyword">val</span> async_or_error</span> : <code class="type">('a, unit <a href="http://127.0.0.1:8000/async_extra/#Import.Deferred.Or_error.t">Import.Deferred.Or_error.t</a>) <a href="http://127.0.0.1:8000/async_extra/#Command.basic_command" class="ocaml_internal">basic_command</a></code></pre><div class="info"><code class="code">async_or_error</code> is like <code class="code">async</code>, except that the main function it expects may
return an error, in which case it prints out the error message and shuts down with
exit code 1.</div>
<div class="info">To create an <code class="code">Arg_type.t</code> that uses auto-completion and uses Async to compute the
possible completions, one should use<pre class="code"><code>      Arg_type.create ~complete of_string</code></pre><p>where <code class="code">complete</code> wraps its Async operations in <code class="code">Thread_safe.block_on_async</code>. With
this, the <code class="code">complete</code> function is only called when the executable is auto-completing,
not for ordinary execution. This improves performance, and also means that the Async
scheduler isn't started for ordinary execution of the command, which makes it possible
for the command to daemonize (which requires the scheduler to not have been started).</p></div>
</div></div>